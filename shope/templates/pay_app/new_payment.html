{% extends "core/base.html" %}
{% load i18n %}
{% load static %}
{% block content_body %}
    <script src="https://yookassa.ru/checkout-widget/v1/checkout-widget.js"></script>
    <div id="payment-form"></div>
    <script>
//Инициализация виджета. Все параметры обязательные.
const confirmation_t = '{{ confirmation_t }}'
const checkout = new window.YooMoneyCheckoutWidget({
    confirmation_token: confirmation_t, //Токен, который перед проведением оплаты нужно получить от ЮKassa
    return_url: 'https://example.com', //Ссылка на страницу завершения оплаты
    error_callback: function(error) {
        //Обработка ошибок инициализации
    }
});

//Отображение платежной формы в контейнере
checkout.render('payment-form')
//Метод возвращает Promise, исполнение которого говорит о полной загрузке платежной формы (можно не использовать).
  .then(() => {
     //Код, который нужно выполнить после отображения платежной формы.
  });
    </script>
{% endblock content_body %}
